{"remainingRequest":"C:\\Users\\msw71\\Desktop\\mfi\\front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\msw71\\Desktop\\mfi\\front\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\msw71\\Desktop\\mfi\\front\\src\\store\\auth.js","dependencies":[{"path":"C:\\Users\\msw71\\Desktop\\mfi\\front\\src\\store\\auth.js","mtime":1630825075956},{"path":"C:\\Users\\msw71\\Desktop\\mfi\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511710000},{"path":"C:\\Users\\msw71\\Desktop\\mfi\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511710000},{"path":"C:\\Users\\msw71\\Desktop\\mfi\\front\\node_modules\\eslint-loader\\index.js","mtime":1630511710000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL21zdzcxL0Rlc2t0b3AvbWZpL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgand0X2RlY29kZSBmcm9tICdqd3QtZGVjb2RlJzsKdmFyIGF1dGhNb2R1bGUgPSB7CiAgc3RhdGU6IHsKICAgIHVzZXJEYXRhOiBbXQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBhdXRoX3NldF9kYXRhOiBmdW5jdGlvbiBhdXRoX3NldF9kYXRhKHN0YXRlLCBhdXRoRGF0YSkgewogICAgICBzdGF0ZS51c2VyRGF0YS5wdXNoKGF1dGhEYXRhKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGF1dGhfZ2V0X2RhdGE6IGZ1bmN0aW9uIGF1dGhfZ2V0X2RhdGEoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXJEYXRhOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLy/roZzqt7jsnbgKICAgIGF1dGhfbG9naW46IGZ1bmN0aW9uIGF1dGhfbG9naW4oX3JlZiwgbG9naW5EYXRhKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjgwODAvc2lnbkluJywgewogICAgICAgICAgICAgICAgICBpZDogbG9naW5EYXRhLmlkLAogICAgICAgICAgICAgICAgICBwdzogbG9naW5EYXRhLnB3CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBpZiAoIXJlcy5kYXRhLnRva2VuKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImFjY2Vzc1Rva2VuIiwgcmVzLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgICAgY29tbWl0KCdhdXRoX3NldF9kYXRhJywgand0X2RlY29kZShyZXMuZGF0YS50b2tlbikpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBpZiAoIShyZXMuZGF0YS5tZXNzYWdlID09PSAid3JvbmcgcHciKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCd3cm9uZ1B3Jyk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBpZiAoIShyZXMuZGF0YS5tZXNzYWdlID09PSAibm90IGV4aXN0IGlkIikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignd3JvbmdJZCcpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgICAgaWYgKCEocmVzLmRhdGEubWVzc2FnZSA9PT0gJ25vIGRhdGEnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCd3cm9uZ0RhdGEnKTsKCiAgICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICAgIGFsZXJ0KCfthrXsi6Ag7Jik66WYJyk7CiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignc29tZXRoaW5nSXNXcm9uZycpOwoKICAgICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCA3XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+2GoOq3vCDsnKDtmqjshLEg7ZmV7J24CiAgICBhdXRoX3ZlcnRpZnlfdG9rZW46IGZ1bmN0aW9uIGF1dGhfdmVydGlmeV90b2tlbihfcmVmMiwgdG9rZW4pIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNvbW1pdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwoKICAgICAgICAgICAgICAgIGlmICh0b2tlbikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgLy8g6rKA7Kad7J2AIOyVjOyVhOyEnC4uCiAgICAgICAgICAgICAgICBjb21taXQoJ2F1dGhfc2V0X2RhdGEnLCBqd3RfZGVjb2RlKHRva2VuKSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTsKZXhwb3J0IGRlZmF1bHQgYXV0aE1vZHVsZTs="},{"version":3,"sources":["C:/Users/msw71/Desktop/mfi/front/src/store/auth.js"],"names":["axios","jwt_decode","authModule","state","userData","mutations","auth_set_data","authData","push","getters","auth_get_data","actions","auth_login","loginData","commit","post","id","pw","res","console","log","data","token","localStorage","setItem","message","Error","alert","auth_vertify_token"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,IAAMC,UAAU,GAAG;AACfC,EAAAA,KAAK,EAAG;AACJC,IAAAA,QAAQ,EAAG;AADP,GADO;AAIfC,EAAAA,SAAS,EAAE;AACPC,IAAAA,aADO,yBACQH,KADR,EACeI,QADf,EACyB;AAC5BJ,MAAAA,KAAK,CAACC,QAAN,CAAeI,IAAf,CAAoBD,QAApB;AACH;AAHM,GAJI;AASfE,EAAAA,OAAO,EAAE;AACLC,IAAAA,aADK,yBACUP,KADV,EACiB;AAClB,aAAOA,KAAK,CAACC,QAAb;AACH;AAHI,GATM;AAcfO,EAAAA,OAAO,EAAE;AACL;AACMC,IAAAA,UAFD,4BAEyBC,SAFzB,EAEoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAArBC,gBAAAA,MAAqB,QAArBA,MAAqB;AAAA;AAAA;AAAA,uBAGrBd,KAAK,CAACe,IAAN,CAAW,8BAAX,EAA2C;AACnDC,kBAAAA,EAAE,EAAGH,SAAS,CAACG,EADoC;AAEnDC,kBAAAA,EAAE,EAAGJ,SAAS,CAACI;AAFoC,iBAA3C,CAHqB;;AAAA;AAGjCC,gBAAAA,GAHiC;AAAA;AAAA;;AAAA;AAAA;AAAA;AAQjCC,gBAAAA,OAAO,CAACC,GAAR;;AARiC;AAAA,qBAUlCF,GAAG,CAACG,IAAJ,CAASC,KAVyB;AAAA;AAAA;AAAA;;AAWjCC,gBAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCN,GAAG,CAACG,IAAJ,CAASC,KAA7C;AACAR,gBAAAA,MAAM,CAAC,eAAD,EAAmBb,UAAU,CAACiB,GAAG,CAACG,IAAJ,CAASC,KAAV,CAA7B,CAAN;AAZiC;AAAA;;AAAA;AAAA,sBAa5BJ,GAAG,CAACG,IAAJ,CAASI,OAAT,KAAqB,UAbO;AAAA;AAAA;AAAA;;AAAA,sBAc3BC,KAAK,CAAC,SAAD,CAdsB;;AAAA;AAAA,sBAe5BR,GAAG,CAACG,IAAJ,CAASI,OAAT,KAAqB,cAfO;AAAA;AAAA;AAAA;;AAAA,sBAgB3BC,KAAK,CAAC,SAAD,CAhBsB;;AAAA;AAAA,sBAiB5BR,GAAG,CAACG,IAAJ,CAASI,OAAT,KAAqB,SAjBO;AAAA;AAAA;AAAA;;AAAA,sBAkB3BC,KAAK,CAAC,WAAD,CAlBsB;;AAAA;AAoBjCC,gBAAAA,KAAK,CAAC,OAAD,CAAL;AApBiC,sBAqB3BD,KAAK,CAAC,kBAAD,CArBsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBxC,KAzBI;AA0BL;AACME,IAAAA,kBA3BD,qCA2BiCN,KA3BjC,EA2BwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAjBR,gBAAAA,MAAiB,SAAjBA,MAAiB;;AAAA,oBAErCQ,KAFqC;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAIzC;AACAR,gBAAAA,MAAM,CAAC,eAAD,EAAmBb,UAAU,CAACqB,KAAD,CAA7B,CAAN;;AALyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAM5C;AAjCI;AAdM,CAAnB;AAoDE,eAAepB,UAAf","sourcesContent":["import axios from \"axios\";\r\nimport jwt_decode from 'jwt-decode'\r\n\r\nconst authModule = {\r\n    state : {\r\n        userData : []\r\n    },\r\n    mutations: {\r\n        auth_set_data (state, authData) {\r\n            state.userData.push(authData);\r\n        }\r\n    },\r\n    getters: {\r\n        auth_get_data (state) {\r\n            return state.userData;\r\n        }\r\n    },\r\n    actions: {\r\n        //로그인\r\n        async auth_login ({ commit }, loginData) {\r\n            let res;\r\n            try {\r\n                res = await axios.post('http://localhost:8080/signIn', {\r\n                    id : loginData.id,\r\n                    pw : loginData.pw\r\n                });\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n            if(res.data.token){\r\n                localStorage.setItem(\"accessToken\", res.data.token);               \r\n                commit('auth_set_data',  jwt_decode(res.data.token));\r\n            }else if(res.data.message === \"wrong pw\"){\r\n                throw Error('wrongPw');\r\n            }else if(res.data.message === \"not exist id\"){\r\n                throw Error('wrongId');\r\n            }else if(res.data.message === 'no data') {\r\n                throw Error('wrongData');\r\n            }else{\r\n                alert('통신 오류');\r\n                throw Error('somethingIsWrong');\r\n            }\r\n        },\r\n        //토근 유효성 확인\r\n        async auth_vertify_token ({ commit }, token) {\r\n            // console.log(token);\r\n            if(!token) return;\r\n\r\n            // 검증은 알아서..\r\n            commit('auth_set_data',  jwt_decode(token));\r\n        }\r\n    }\r\n  }\r\n\r\n\r\n  export default authModule"]}]}