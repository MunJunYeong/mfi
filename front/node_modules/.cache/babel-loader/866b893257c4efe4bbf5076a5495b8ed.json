{"remainingRequest":"C:\\Users\\c\\Desktop\\mfi\\front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\c\\Desktop\\mfi\\front\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\c\\Desktop\\mfi\\front\\src\\store\\auth.js","dependencies":[{"path":"C:\\Users\\c\\Desktop\\mfi\\front\\src\\store\\auth.js","mtime":1630839117932},{"path":"C:\\Users\\c\\Desktop\\mfi\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511710000},{"path":"C:\\Users\\c\\Desktop\\mfi\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511710000},{"path":"C:\\Users\\c\\Desktop\\mfi\\front\\node_modules\\eslint-loader\\index.js","mtime":1630511710000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2MvRGVza3RvcC9tZmkvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBqd3RfZGVjb2RlIGZyb20gJ2p3dC1kZWNvZGUnOwp2YXIgYXV0aE1vZHVsZSA9IHsKICBzdGF0ZTogewogICAgdXNlckRhdGE6IFtdCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGF1dGhfc2V0X2RhdGE6IGZ1bmN0aW9uIGF1dGhfc2V0X2RhdGEoc3RhdGUsIGF1dGhEYXRhKSB7CiAgICAgIHN0YXRlLnVzZXJEYXRhLnB1c2goYXV0aERhdGEpOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgYXV0aF9nZXRfZGF0YTogZnVuY3Rpb24gYXV0aF9nZXRfZGF0YShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlckRhdGE7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICAvL+uhnOq3uOyduAogICAgYXV0aF9sb2dpbjogZnVuY3Rpb24gYXV0aF9sb2dpbihfcmVmLCBsb2dpbkRhdGEpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0LCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9zaWduSW4nLCB7CiAgICAgICAgICAgICAgICAgIGlkOiBsb2dpbkRhdGEuaWQsCiAgICAgICAgICAgICAgICAgIHB3OiBsb2dpbkRhdGEucHcKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKCiAgICAgICAgICAgICAgICBpZiAoIXJlcy5kYXRhLnRva2VuKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImFjY2Vzc1Rva2VuIiwgcmVzLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgICAgY29tbWl0KCdhdXRoX3NldF9kYXRhJywgand0X2RlY29kZShyZXMuZGF0YS50b2tlbikpOwogICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcjL2hvbWUnOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDMwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBpZiAoIShyZXMuZGF0YS5tZXNzYWdlID09PSAid3JvbmcgcHciKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCd3cm9uZ1B3Jyk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICBpZiAoIShyZXMuZGF0YS5tZXNzYWdlID09PSAibm90IGV4aXN0IGlkIikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignd3JvbmdJZCcpOwoKICAgICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgICAgaWYgKCEocmVzLmRhdGEubWVzc2FnZSA9PT0gJ25vIGRhdGEnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCd3cm9uZ0RhdGEnKTsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdzb21ldGhpbmdJc1dyb25nJyk7CgogICAgICAgICAgICAgIGNhc2UgMzA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDddXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v7Yag6re8IOycoO2aqOyEsSDtmZXsnbgKICAgIGF1dGhfdmVydGlmeV90b2tlbjogZnVuY3Rpb24gYXV0aF92ZXJ0aWZ5X3Rva2VuKF9yZWYyLCB0b2tlbikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY29tbWl0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQ7CgogICAgICAgICAgICAgICAgaWYgKHRva2VuKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAvLyDqsoDspp3snYAg7JWM7JWE7IScLi4KICAgICAgICAgICAgICAgIGNvbW1pdCgnYXV0aF9zZXRfZGF0YScsIGp3dF9kZWNvZGUodG9rZW4pKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBhdXRoTW9kdWxlOw=="},{"version":3,"sources":["C:/Users/c/Desktop/mfi/front/src/store/auth.js"],"names":["axios","jwt_decode","authModule","state","userData","mutations","auth_set_data","authData","push","getters","auth_get_data","actions","auth_login","loginData","commit","post","id","pw","res","console","log","data","token","localStorage","setItem","location","href","message","Error","auth_vertify_token"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,IAAMC,UAAU,GAAG;AACfC,EAAAA,KAAK,EAAG;AACJC,IAAAA,QAAQ,EAAG;AADP,GADO;AAIfC,EAAAA,SAAS,EAAE;AACPC,IAAAA,aADO,yBACQH,KADR,EACeI,QADf,EACyB;AAC5BJ,MAAAA,KAAK,CAACC,QAAN,CAAeI,IAAf,CAAoBD,QAApB;AACH;AAHM,GAJI;AASfE,EAAAA,OAAO,EAAE;AACLC,IAAAA,aADK,yBACUP,KADV,EACiB;AAClB,aAAOA,KAAK,CAACC,QAAb;AACH;AAHI,GATM;AAcfO,EAAAA,OAAO,EAAE;AACL;AACMC,IAAAA,UAFD,4BAEyBC,SAFzB,EAEoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAArBC,gBAAAA,MAAqB,QAArBA,MAAqB;AAAA;AAAA;AAAA,uBAGrBd,KAAK,CAACe,IAAN,CAAW,8BAAX,EAA2C;AACnDC,kBAAAA,EAAE,EAAGH,SAAS,CAACG,EADoC;AAEnDC,kBAAAA,EAAE,EAAGJ,SAAS,CAACI;AAFoC,iBAA3C,CAHqB;;AAAA;AAGjCC,gBAAAA,GAHiC;AAAA;AAAA;;AAAA;AAAA;AAAA;AAQjCC,gBAAAA,OAAO,CAACC,GAAR;;AARiC;AAUrCD,gBAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;;AAVqC,qBAWlCH,GAAG,CAACG,IAAJ,CAASC,KAXyB;AAAA;AAAA;AAAA;;AAYjCC,gBAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCN,GAAG,CAACG,IAAJ,CAASC,KAA7C;AACAR,gBAAAA,MAAM,CAAC,eAAD,EAAmBb,UAAU,CAACiB,GAAG,CAACG,IAAJ,CAASC,KAAV,CAA7B,CAAN;AACAG,gBAAAA,QAAQ,CAACC,IAAT,GAAc,QAAd;AAdiC;AAAA;;AAAA;AAAA,sBAe5BR,GAAG,CAACG,IAAJ,CAASM,OAAT,KAAqB,UAfO;AAAA;AAAA;AAAA;;AAAA,sBAgB3BC,KAAK,CAAC,SAAD,CAhBsB;;AAAA;AAAA,sBAiB5BV,GAAG,CAACG,IAAJ,CAASM,OAAT,KAAqB,cAjBO;AAAA;AAAA;AAAA;;AAAA,sBAkB3BC,KAAK,CAAC,SAAD,CAlBsB;;AAAA;AAAA,sBAmB5BV,GAAG,CAACG,IAAJ,CAASM,OAAT,KAAqB,SAnBO;AAAA;AAAA;AAAA;;AAAA,sBAoB3BC,KAAK,CAAC,WAAD,CApBsB;;AAAA;AAAA,sBAsB3BA,KAAK,CAAC,kBAAD,CAtBsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBxC,KA1BI;AA2BL;AACMC,IAAAA,kBA5BD,qCA4BiCP,KA5BjC,EA4BwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAjBR,gBAAAA,MAAiB,SAAjBA,MAAiB;;AAAA,oBACrCQ,KADqC;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAGzC;AACAR,gBAAAA,MAAM,CAAC,eAAD,EAAmBb,UAAU,CAACqB,KAAD,CAA7B,CAAN;;AAJyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAK5C;AAjCI;AAdM,CAAnB;AAoDE,eAAepB,UAAf","sourcesContent":["import axios from \"axios\";\r\nimport jwt_decode from 'jwt-decode'\r\n\r\nconst authModule = {\r\n    state : {\r\n        userData : []\r\n    },\r\n    mutations: {\r\n        auth_set_data (state, authData) {\r\n            state.userData.push(authData);\r\n        }\r\n    },\r\n    getters: {\r\n        auth_get_data (state) {\r\n            return state.userData;\r\n        }\r\n    },\r\n    actions: {\r\n        //로그인\r\n        async auth_login ({ commit }, loginData) {\r\n            let res;\r\n            try {\r\n                res = await axios.post('http://localhost:8080/signIn', {\r\n                    id : loginData.id,\r\n                    pw : loginData.pw\r\n                });\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n            console.log(res.data)\r\n            if(res.data.token){\r\n                localStorage.setItem(\"accessToken\", res.data.token);               \r\n                commit('auth_set_data',  jwt_decode(res.data.token));\r\n                location.href='#/home'\r\n            }else if(res.data.message === \"wrong pw\"){\r\n                throw Error('wrongPw');\r\n            }else if(res.data.message === \"not exist id\"){\r\n                throw Error('wrongId');\r\n            }else if(res.data.message === 'no data') {\r\n                throw Error('wrongData');\r\n            }else{\r\n                throw Error('somethingIsWrong');\r\n            }\r\n        },\r\n        //토근 유효성 확인\r\n        async auth_vertify_token ({ commit }, token) {\r\n            if(!token) return;\r\n\r\n            // 검증은 알아서..\r\n            commit('auth_set_data',  jwt_decode(token));\r\n        }\r\n    }\r\n  }\r\n\r\n\r\n  export default authModule"]}]}