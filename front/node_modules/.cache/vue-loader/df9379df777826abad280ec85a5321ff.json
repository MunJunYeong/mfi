{"remainingRequest":"C:\\Users\\c\\Desktop\\mfi\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\c\\Desktop\\mfi\\front\\src\\views\\core\\AddIdea.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\c\\Desktop\\mfi\\front\\src\\views\\core\\AddIdea.vue","mtime":1630465127451},{"path":"C:\\Users\\c\\Desktop\\mfi\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630390577000},{"path":"C:\\Users\\c\\Desktop\\mfi\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1630390577000},{"path":"C:\\Users\\c\\Desktop\\mfi\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630390577000},{"path":"C:\\Users\\c\\Desktop\\mfi\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1630390577000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEVkaXRvciwgRWRpdG9yQ29udGVudCB9IGZyb20gJ0B0aXB0YXAvdnVlLTInCmltcG9ydCBTdGFydGVyS2l0IGZyb20gJ0B0aXB0YXAvc3RhcnRlci1raXQnCmltcG9ydCBNZW51QmFyIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZWRpdGVyL01lbnVCYXIudnVlJwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCi8vIGltcG9ydCBqd3RfZGVjb2RlIGZyb20gJ2p3dC1kZWNvZGUnOwoKbGV0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjY2Vzc1Rva2VuJyk7Ci8vIGNvbnN0IHVzZXJJZHggPSBqd3RfZGVjb2RlKHRva2VuKTsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdBZGRJZGVhJywKICAgIHByb3BzOiBbIF0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgRWRpdG9yQ29udGVudCwKICAgICAgICBNZW51QmFyLAogICAgfSwKCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGVkaXRvcjogbnVsbCwKICAgICAgICAgICAgY29udGVudDogJ+uCtOyaqSDsoIHquLAnLAogICAgICAgICAgICBzdWJqZWN0IDogJycsCiAgICAgICAgfQogICAgfSwKCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuZWRpdG9yID0gbmV3IEVkaXRvcih7CiAgICAgICAgICAgIGV4dGVuc2lvbnM6IFsKICAgICAgICAgICAgICAgIFN0YXJ0ZXJLaXQsCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuY29udGVudCwKICAgICAgICAgICAgb25VcGRhdGU6ICh7IGVkaXRvciB9KSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQgPSBlZGl0b3IuZ2V0SFRNTCgpOwogICAgICAgICAgICB9LAogICAgICAgIH0pLAogICAgfSwKCiAgICBiZWZvcmVEZXN0cm95KCkgewogICAgICAgIHRoaXMuZWRpdG9yLmRlc3Ryb3koKQogICAgfSwKCiAgICBtZXRob2RzIDogewogICAgICAgIGFzeW5jIHNhdmUoKXsKICAgICAgICAgICAgYXdhaXQgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2lkZWEnLHsKICAgICAgICAgICAgICAgIHN1YmplY3QgOiB0aGlzLnN1YmplY3QsCiAgICAgICAgICAgICAgICBjb250ZW50IDogdGhpcy5jb250ZW50LAogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBoZWFkZXJzIDogewogICAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJyA6IHRva2VuCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICAgICAgICAgIGlmKHJlcy5kYXRhLm1lc3NhZ2UgPT09ICdubyBzdWJqZWN0Jyl7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+ygnOuqqeydhCDsnoXroKXtlbTso7zshLjsmpQuJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYocmVzLmRhdGEubWVzc2FnZSA9PT0gJ25vIGNvbnRlbnQnKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn64K07Jqp7J2EIOyeheugpe2VtOyjvOyEuOyalC4nKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZihyZXMuZGF0YS5tZXNzYWdlID09PSAnZW1wdHknKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn7JWE7J2065SU7Ja066W8IOyekeyEse2VtOyjvOyEuOyalC4nKTsKICAgICAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgi7JWE7J2065SU7Ja066W8IOustOyCrO2eiCDsoJzstpztlojsirXri4jri6QhIik7CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZj0nIy9pZGVhJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgZ29JZGVhUGFnZSgpewogICAgICAgICAgICBsZXQgcmVzdWx0ID0gY29uZmlybSgi7Leo7IaM7ZWY7Iuc6rKg7Iq164uI6rmMID8iKTsKICAgICAgICAgICAgaWYocmVzdWx0KXsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWY9JyMvaWRlYScKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICB9LAogICAgfQp9Cg=="},{"version":3,"sources":["AddIdea.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"AddIdea.vue","sourceRoot":"src/views/core","sourcesContent":["\n<template>\n    <v-row justify='center' >\n        <v-col cols='12'>\n            <v-row justify='center' >\n                <v-col cols='10'>\n                    <div style=\"height: 120px; font-size : 2.2em;  padding-top : 35px\">아이디어 추가하기</div>\n                </v-col>\n                <v-col cols='2' align=\"right\">\n                    <!-- <v-btn \n                    \n                    style=\"height : 70px; width : 160px; margin-top : 40px; margin-right : 50px\"\n                    >등록하기\n                    </v-btn> -->\n                </v-col>\n            </v-row>\n            <v-row >\n                <v-col cols='5'>\n                    <v-text-field\n                    label=\"제목 입력\"\n                    v-model=\"subject\">\n                    </v-text-field>\n                </v-col>\n            </v-row>\n\n            <v-row justify='center' >\n                <v-col cols='12'>\n                    <!-- text editor -->\n                    <div class=\"deitor\" v-if=\"editor\">\n                        <menu-bar class=\"editor__header\" :editor=\"editor\" />\n                        <br>\n                        <editor-content class=\"editor_content\" :editor=\"editor\" v-model=\"content\" />\n                        \n                    </div>\n                </v-col>\n            </v-row>\n            <br><br><br><br>\n            <v-row justify='center'>\n                <v-col cols='4'>\n                    <v-btn  block elvation=\"2\" v-on:click=\"save\">\n                        아이디어 추가하기\n                    </v-btn>\n                </v-col>\n                <v-col cols='4'>\n                    <v-btn  block elvation=\"2\" v-on:click=\"goIdeaPage\">\n                        아이디어 취소하기\n                    </v-btn>\n                </v-col>\n            </v-row>\n\n        </v-col>\n    </v-row>\n</template>\n<script>\n    import { Editor, EditorContent } from '@tiptap/vue-2'\n    import StarterKit from '@tiptap/starter-kit'\n    import MenuBar from '../../components/editer/MenuBar.vue'\n    import axios from 'axios'\n    // import jwt_decode from 'jwt-decode';\n\n    let token = localStorage.getItem('accessToken');\n    // const userIdx = jwt_decode(token);\n\n    export default {\n        name: 'AddIdea',\n        props: [ ],\n        components: {\n            EditorContent,\n            MenuBar,\n        },\n\n        data() {\n            return {\n                editor: null,\n                content: '내용 적기',\n                subject : '',\n            }\n        },\n\n        created() {\n            this.editor = new Editor({\n                extensions: [\n                    StarterKit,\n                ],\n                content: this.content,\n                onUpdate: ({ editor }) => {\n                    this.content = editor.getHTML();\n                },\n            }),\n        },\n\n        beforeDestroy() {\n            this.editor.destroy()\n        },\n\n        methods : {\n            async save(){\n                await axios.post('http://localhost:8080/idea',{\n                    subject : this.subject,\n                    content : this.content,\n                }, {\n                    headers : {\n                        'Authorization' : token\n                    }\n                }).then(res => {\n                    console.log(res.data);\n                    if(res.data.message === 'no subject'){\n                        alert('제목을 입력해주세요.');\n                    } else if(res.data.message === 'no content'){\n                        alert('내용을 입력해주세요.');\n                    } else if(res.data.message === 'empty'){\n                        alert('아이디어를 작성해주세요.');\n                    }else {\n                        alert(\"아이디어를 무사히 제출했습니다!\");\n                        location.href='#/idea'\n                    }\n                })\n            },\n            goIdeaPage(){\n                let result = confirm(\"취소하시겠습니까 ?\");\n                if(result){\n                    location.href='#/idea'\n                }\n                \n            },\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n.editor {\n  display: flex;\n  flex-direction: column;\n  max-height: 400px;\n  color: #0D0D0D;\n  background-color: white;\n  border: 3px solid #0D0D0D;\n  border-radius: 0.75rem;\n\n  &__header {\n    display: flex;\n    align-items: center;\n    flex: 0 0 auto;\n    flex-wrap: wrap;\n    padding: 0.25rem;\n    border-bottom: 3px solid #0D0D0D;\n  }\n\n  &__content {\n    padding: 1.25rem 1rem;\n    flex: 1 1 auto;\n    overflow-x: hidden;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  \n\n  \n}\n</style>\n"]}]}